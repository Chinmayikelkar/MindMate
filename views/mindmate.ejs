<%- include('partials/head') %>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="/js/mindmate.js" defer></script>
</head>
<body>
  <%- include('partials/nav') %>

  <!-- Gemini Chat Section -->
  <h1 style="margin-top: 50px">Share Your Feelings and Track your Mood!</h1>
  <section class="container">
    <form id="feelingsForm">
      <label for="feelings"><h2>How are you feeling today?</h2></label>
      <textarea
        id="feelings"
        name="feelings"
        rows="5"
        required
        aria-label="User feelings"
        placeholder="share your feelings here..."
      ></textarea>
      <button type="submit">Submit</button>
    </form>
    <div id="geminiResponse" class="response-area">
      <p><strong>MindMate:</strong> <span id="responseText"></span></p>
    </div>
  </section>

  <a style="margin-left: 43%;" href="#moodTracker" class="button-link">Go to Mood Tracker</a>

  <!-- Mood Tracker Section -->
  <section id="moodTracker" style="margin-top: 100px; padding: 0.1rem;" class="container">
    <h2 style="text-align: center">Mood Tracker</h2>
    <div class="emoji-picker">
      <form id="moodForm">
        <div>
          <button type="button" class="emoji-btn" data-mood="happy">😊</button>
          <button type="button" class="emoji-btn" data-mood="neutral">😐</button>
          <button type="button" class="emoji-btn" data-mood="sad">😔</button>
        </div>
        <textarea
          id="moodNote"
          placeholder="Optional: Add a note about your mood..."
          rows="3"
        ></textarea>
      </form>

      <div id="status" style="margin-top: 10px; color: green"></div>
    </div>
    <div id="mood-chart">
      <canvas id="chart"></canvas>
    </div>
  </section>

  <a style="margin-left: 41%; margin-bottom: -10%;" href="/recommendations" class="button-link">
    Go to Recommendations
  </a>

  <%- include('partials/footer') %>
</body>
</html>
